:root{
  /* ===== Tommi38 Premium Sunset (high contrast) ===== */
  --bg0:#070a10;
  --bg1:#0b1020;

  --card: rgba(18,26,44,.62);
  --card2: rgba(12,18,34,.70);

  --sand:#f8d38a;
  --sun:#ffb347;
  --sun2:#ff7a59;
  --sea:#4dd0e1;

  --text:#eef3ff;
  --muted:#b4bfdc;

  --border: rgba(255,255,255,.10);

  --danger:#ff6b6b;
  --success:#3ddc97;

  --radius:22px;
  --radius-sm:16px;

  --shadow-lg:0 20px 50px rgba(0,0,0,.55);
  --shadow-sm:0 12px 28px rgba(0,0,0,.40);

  --ease:cubic-bezier(.2,.8,.2,1);
  --t:180ms;

  /* iOS safe areas */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* ===== Reset / perf ===== */
*{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
html,body{ margin:0; padding:0; }
body{
  color:var(--text);
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
  background:
    radial-gradient(900px 420px at 20% -10%, rgba(255,179,71,.22), transparent 55%),
    radial-gradient(1000px 520px at 85% 10%, rgba(77,208,225,.16), transparent 58%),
    linear-gradient(180deg,var(--bg1),var(--bg0));
  overflow-x:hidden;
  overscroll-behavior-y:none;
}

/* ===== Subtle animated background (lightweight) ===== */
body::before{
  content:"";
  position:fixed;
  inset:-20% -20%;
  z-index:-1;
  background:
    radial-gradient(closest-side at 20% 40%, rgba(77,208,225,.10), transparent 60%),
    radial-gradient(closest-side at 70% 25%, rgba(255,122,89,.10), transparent 62%),
    radial-gradient(closest-side at 80% 70%, rgba(255,179,71,.10), transparent 60%);
  filter: blur(18px);
  transform: translate3d(0,0,0);
  animation: drift 18s var(--ease) infinite alternate;
}
@keyframes drift{
  from{ transform: translate3d(-1.2%,-.8%,0) scale(1); }
  to{ transform: translate3d(1.2%,.8%,0) scale(1.03); }
}

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
  body::before{ animation:none !important; }
}

/* ===== Header ===== */
.topbar{
  position:sticky; top:0;
  z-index:50;
  padding: calc(12px + var(--safe-top)) 16px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:rgba(7,10,16,.66);
  backdrop-filter:blur(16px);
  border-bottom:1px solid var(--border);
}
.brand{
  font-weight:1000;
  letter-spacing:2px;
  font-size:20px;
  background:linear-gradient(90deg,var(--sun),var(--sun2),var(--sea));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 10px 30px rgba(255,179,71,.10);
}

/* ===== Layout ===== */
.wrap{
  max-width:820px;
  margin:0 auto;
  padding:16px 16px calc(16px + var(--safe-bottom));
}

/* ===== Cards ===== */
.card{
  position:relative;
  background:linear-gradient(180deg,var(--card),var(--card2));
  border-radius:var(--radius);
  padding:18px;
  margin-bottom:16px;
  border:1px solid var(--border);
  box-shadow:var(--shadow-lg);
  backdrop-filter:blur(14px);
  overflow:hidden;
}
.card::before{
  content:"";
  position:absolute; inset:-2px;
  background:
    radial-gradient(600px 220px at 20% 0%, rgba(255,179,71,.12), transparent 60%),
    radial-gradient(520px 220px at 95% 30%, rgba(77,208,225,.10), transparent 60%);
  opacity:.95;
  pointer-events:none;
}
.card::after{
  content:"";
  position:absolute; inset:0;
  border-radius:inherit;
  border:1px solid rgba(255,255,255,.06);
  pointer-events:none;
}
.card.booking{
  border:1px solid rgba(255,179,71,.35);
  box-shadow:
    0 22px 55px rgba(255,179,71,.14),
    var(--shadow-lg);
}

/* ===== Typography ===== */
h1,h2,h3,h4{ margin:0 0 12px; font-weight:850; }
h2{ font-size:20px; }
h3{ font-size:18px; }
h4{ font-size:16px; }
.muted{ color:var(--muted); font-size:14px; line-height:1.35; }

.sep{
  border:none;
  border-top:1px solid rgba(255,255,255,.10);
  margin:18px 0;
  opacity:.9;
}

/* ===== Badge ===== */
.badge{
  display:inline-block;
  margin-top:10px;
  padding:7px 14px;
  border-radius:999px;
  font-size:12px;
  font-weight:900;
  letter-spacing:.35px;
  color:#0a0d14;
  background:linear-gradient(90deg, rgba(248,211,138,.98), rgba(255,179,71,.98));
  box-shadow:0 12px 25px rgba(255,179,71,.18);
}

/* ===== Login ===== */
.login-card{ text-align:center; }
.login-title{
  font-size:36px;
  font-weight:1000;
  letter-spacing:2.6px;
  margin-bottom:4px;
  background:linear-gradient(90deg,var(--sand),var(--sun),var(--sun2));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.login-subtitle{ margin:0 0 16px; color:var(--muted); }

.login-gallery{
  display:flex;
  justify-content:center;
  gap:10px;
  margin-bottom:14px;
  overflow-x:auto;
  padding:2px 2px 10px;
  scrollbar-width:none;
}
.login-gallery::-webkit-scrollbar{ display:none; }
.login-gallery-item{ flex:0 0 auto; width:72px; filter:drop-shadow(0 10px 18px rgba(0,0,0,.45)); }
.login-gallery-item img{
  width:72px; height:54px;
  object-fit:cover;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  transform:translateZ(0);
  transition:transform 220ms var(--ease), filter 220ms var(--ease);
}
/* hover solo su device che lo supportano */
@media (hover:hover){
  .login-gallery-item img:hover{
    transform:translateY(-3px) rotate(-1deg) scale(1.05);
    filter:saturate(1.08) contrast(1.06);
  }
}

/* ===== Inputs (iOS: no zoom => font-size 16) ===== */
input,select,textarea{
  width:100%;
  padding:14px;
  border-radius:var(--radius-sm);
  border:1px solid rgba(255,255,255,.10);
  background:rgba(10,14,22,.66);
  color:var(--text);
  font-size:16px;
  outline:none;
  margin-bottom:12px;
  box-shadow:0 10px 22px rgba(0,0,0,.18);
  transition:border-color var(--t) var(--ease), box-shadow var(--t) var(--ease), transform var(--t) var(--ease);
}
input::placeholder, textarea::placeholder{ color:rgba(180,191,220,.65); }
input:focus,select:focus,textarea:focus{
  border-color:rgba(255,179,71,.65);
  box-shadow:0 0 0 3px rgba(255,179,71,.18), 0 14px 28px rgba(0,0,0,.28);
  transform:translateY(-1px);
}
textarea{ min-height:110px; resize:vertical; }

/* ===== Buttons ===== */
button{
  border:none;
  cursor:pointer;
  user-select:none;
  border-radius:var(--radius-sm);
  font-size:16px;
  font-weight:900;
  padding:14px;
  transition:transform 90ms var(--ease), box-shadow 180ms var(--ease), filter 180ms var(--ease), opacity 180ms var(--ease);
}
button:active{ transform:scale(.97); }

.btn{
  width:100%;
  color:#0a0d14;
  background:linear-gradient(180deg,var(--sand),var(--sun),var(--sun2));
  box-shadow:0 16px 34px rgba(255,179,71,.18);
  position:relative;
  overflow:hidden;
}
.btn::after{
  content:"";
  position:absolute;
  inset:-45% -35%;
  background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), transparent 55%);
  transform:translateX(-35%);
  opacity:.65;
  transition:transform 520ms var(--ease);
}
@media (hover:hover){
  .btn:hover{
    filter:saturate(1.05);
    box-shadow:0 22px 48px rgba(255,179,71,.24);
  }
  .btn:hover::after{ transform:translateX(25%); }
}
.btn:disabled{ opacity:.65; cursor:not-allowed; filter:grayscale(.25); }

.btn-ghost{
  background:rgba(10,14,22,.35);
  color:var(--sand);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:var(--shadow-sm);
}
@media (hover:hover){
  .btn-ghost:hover{ transform:translateY(-1px); box-shadow:0 14px 28px rgba(0,0,0,.36); }
}

/* ===== Grid ===== */
.grid3{ display:grid; grid-template-columns:1fr; gap:10px; }

/* ===== Lists ===== */
.list{ display:flex; flex-direction:column; gap:10px; }
.item{
  background:linear-gradient(180deg, rgba(10,14,22,.56), rgba(8,11,18,.56));
  border:1px solid rgba(255,255,255,.10);
  border-radius:var(--radius-sm);
  padding:12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  box-shadow:0 12px 26px rgba(0,0,0,.28);
}
.item button{ padding:10px 12px; font-size:14px; border-radius:12px; }

/* ===== Messages ===== */
.hidden{ display:none !important; }
.error{ color:var(--danger); margin-top:8px; font-weight:800; }
.success{ color:var(--success); margin-top:8px; font-weight:800; }

/* ===== Field info ===== */
.field-status{ font-weight:950; font-size:16px; margin-bottom:6px; }
.field-countdown{ font-size:14px; color:var(--muted); }

/* ===== Timeline (BUGFIX mobile: no hover stretch, no overflow) ===== */
.timeline{
  position:relative;
  display:flex;
  flex-wrap:wrap;         /* va a capo */
  gap:6px;
  overflow:hidden;        /* niente scroll orizzontale */
  padding-bottom:6px;
}

.slot{
  flex:0 1 40px;
  width:40px;
  min-height:28px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.10), 0 6px 14px rgba(0,0,0,.35);
}
.slot.free{ background:linear-gradient(180deg, rgba(77,208,225,.45), rgba(77,208,225,.22)); }
.slot.busy{ background:linear-gradient(180deg, rgba(255,122,89,.55), rgba(255,122,89,.28)); }

.slot-time{
  font-size:10px;
  line-height:1.05;
  opacity:.9;
  text-align:center;
  pointer-events:none;
  white-space:nowrap;
}

/* hover solo desktop, niente “stretch” su touch */
@media (hover:hover){
  .slot:hover{
    transform:translateY(-1px);
    box-shadow:
      inset 0 0 0 1px rgba(255,255,255,.14),
      0 0 18px rgba(77,208,225,.10),
      0 10px 22px rgba(0,0,0,.40);
  }
}

/* Now marker */
.now-marker{
  position:absolute;
  top:-6px;
  bottom:-6px;
  width:2px;
  border-radius:999px;
  background:linear-gradient(180deg, rgba(248,211,138,.0), rgba(248,211,138,.95), rgba(77,208,225,.85));
  box-shadow:0 0 10px rgba(255,179,71,.55), 0 0 28px rgba(77,208,225,.20);
  transform:translateX(-1px);
  animation: nowPulse 1.2s var(--ease) infinite;
}
@keyframes nowPulse{
  0%{ opacity:.55; }
  50%{ opacity:1; }
  100%{ opacity:.55; }
}

/* ===== Meteo ===== */
.weather-title{ font-weight:900; margin-bottom:6px; }
.weather-row{ display:flex; justify-content:space-between; gap:8px; margin-top:8px; }
.weather-day{ flex:1; display:flex; flex-direction:column; align-items:center; font-size:13px; color:var(--muted); }
.weather-emoji{ font-size:22px; margin-top:4px; }

/* ===== Loader ===== */
.loader{
  text-align:center;
  padding:40px;
  font-size:18px;
  opacity:.72;
}

/* ===== Mobile fixes ===== */
@media (max-width:767px){
  /* centra i 3 campi, evita “spinte” strane su iOS */
  .grid3{ justify-items:center; }
  #datePick,#fieldSelect,#timeSelect{
    width:min(420px,100%);
    justify-self:center;
    text-align:center;
  }

  /* timeline più compatta */
  .slot{ flex:0 1 26px; width:26px; min-height:24px; }
  .slot-time{ font-size:9px; }

  /* admin users: niente overflow */
  #adminUsers .item{
    flex-direction:column;
    align-items:flex-start;
    gap:8px;
    word-break:break-word;
    overflow-wrap:anywhere;
  }
  #adminUsers .item button{
    width:100%;
    font-size:13px;
    padding:8px 10px;
  }
}

/* ===== Desktop ===== */
@media (min-width:768px){
  .wrap{ padding:24px; }
  .grid3{ grid-template-columns:repeat(3,1fr); }
  .btn{ width:auto; padding:12px 22px; }
  .card{ padding:20px; }
  .login-title{ font-size:40px; }
}
